<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Distribution of relaxation times &mdash; pyimpspec 4.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=e6a937a4"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Equivalent circuits" href="guide_circuit.html" />
    <link rel="prev" title="Z-HIT analysis" href="guide_zhit.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pyimpspec
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="guide.html">Getting started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="guide_installing.html">Installing</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide_data.html">Data parsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide_kramers_kronig.html">Kramers-Kronig testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide_zhit.html">Z-HIT analysis</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Distribution of relaxation times</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide_circuit.html">Equivalent circuits</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide_fitting.html">Circuit fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide_cli.html">Command-line interface (CLI)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apidocs.html">API Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyimpspec</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="guide.html">Getting started</a></li>
      <li class="breadcrumb-item active">Distribution of relaxation times</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/guide_drt.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="distribution-of-relaxation-times">
<h1>Distribution of relaxation times<a class="headerlink" href="#distribution-of-relaxation-times" title="Link to this heading">ÔÉÅ</a></h1>
<p>Calculating the distribution of relaxation times (DRT) is one way of analyzing impedance spectra.
Several different approaches have been described (see <a class="reference external" href="https://doi.org/10.1088/2515-7655/aba9e0">Boukamp (2020)</a> for a review).
The DRT results can be used to, e.g., develop a suitable equivalent circuit.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Validation of impedance spectra using, e.g., Kramers-Kronig tests prior to proceeding with DRT analyses is highly recommended.
The instrument control software for your potentiostat/galvanostat may include tools for analyzing the excitation and response signals for indications of non-linear behavior.</p>
</div>
<p>Implementations based on the following approaches are included in pyimpspec:</p>
<ul class="simple">
<li><p><strong>BHT</strong>: The Bayesian Hilbert transform method (see <a class="reference external" href="https://doi.org/10.1016/j.electacta.2020.136864">Liu et al. (2020)</a>) that was originally implemented in <a class="reference external" href="https://github.com/ciuccislab/DRTtools">DRTtools</a> and <a class="reference external" href="https://github.com/ciuccislab/pyDRTtools">pyDRTtools</a>.</p></li>
<li><p><strong>m(RQ)fit</strong>: The multi-(RQ)-fit method (see <a class="reference external" href="https://doi.org/10.1016/j.electacta.2014.12.059">Boukamp (2015)</a> and <a class="reference external" href="https://doi.org/10.1016/j.ssi.2016.10.009">Boukamp and Rolle (2017)</a>).</p></li>
<li><p><strong>TR-NNLS</strong>: Tikhonov regularization and non-negative least squares (see <a class="reference external" href="https://doi.org/10.1149/1945-7111/abf508">Kulikovsky (2021)</a>) that was originally implemented in <a class="reference external" href="https://github.com/akulikovsky/DRT-python-code">DRT-python-code</a>.</p></li>
<li><p><strong>TR-RBF</strong>: Tikhonov regularization and radial basis function (or piecewise linear) discretization (see <a class="reference external" href="https://doi.org/10.1016/j.electacta.2015.09.097">Wan et al. (2015)</a>, <a class="reference external" href="https://doi.org/10.1016/j.electacta.2015.03.123">Ciucci and Chen (2015)</a>, and <a class="reference external" href="https://doi.org/10.1016/j.electacta.2017.07.050">Effat and Ciucci (2017)</a>) that was originally implemented in <a class="reference external" href="https://github.com/ciuccislab/DRTtools">DRTtools</a> and <a class="reference external" href="https://github.com/ciuccislab/pyDRTtools">pyDRTtools</a>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The methods using Tikhonov regularization require selection of a suitable regularization parameter, <span class="math notranslate nohighlight">\(\lambda\)</span>.
The implementations of the TR-NNLS and TR-RBF methods in pyimpspec include approaches to automatically selecting this parameter.
However, this is not guaranteed to work in all cases.
An unsuitable regularization parameter can lead to, e.g., sharp peaks that should not be there or broad peaks that should be two or more separate sharper peaks.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The BHT method makes use of random initial values for some of its calculations, which can produce different results when repeated with the same impedance spectrum.</p>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyimpspec</span> <span class="kn">import</span> <span class="p">(</span>
<span class="gp">... </span>  <span class="n">DRTResult</span><span class="p">,</span>              <span class="c1"># An abstract class for DRT results</span>
<span class="gp">... </span>  <span class="n">BHTResult</span><span class="p">,</span>              <span class="c1"># Result of the BHT method</span>
<span class="gp">... </span>  <span class="n">MRQFitResult</span><span class="p">,</span>           <span class="c1"># Result of the m(RQ)fit method</span>
<span class="gp">... </span>  <span class="n">TRNNLSResult</span><span class="p">,</span>           <span class="c1"># Result of the TR-NNLS method</span>
<span class="gp">... </span>  <span class="n">TRRBFResult</span><span class="p">,</span>            <span class="c1"># Result of the TR-RBF method</span>
<span class="gp">... </span>  <span class="n">calculate_drt</span><span class="p">,</span>          <span class="c1"># Wrapper function for all methods</span>
<span class="gp">... </span>  <span class="n">calculate_drt_bht</span><span class="p">,</span>      <span class="c1"># BHT method</span>
<span class="gp">... </span>  <span class="n">calculate_drt_mrq_fit</span><span class="p">,</span>  <span class="c1"># m(RQ)fit method</span>
<span class="gp">... </span>  <span class="n">calculate_drt_tr_nnls</span><span class="p">,</span>  <span class="c1"># TR-NNLS method</span>
<span class="gp">... </span>  <span class="n">calculate_drt_tr_rbf</span><span class="p">,</span>   <span class="c1"># TR-RBF method</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyimpspec.mock_data</span> <span class="kn">import</span> <span class="n">EXAMPLE</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">drt</span><span class="p">:</span> <span class="n">TRNNLSResult</span> <span class="o">=</span> <span class="n">calculate_drt_tr_nnls</span><span class="p">(</span><span class="n">EXAMPLE</span><span class="p">,</span> <span class="n">lambda_value</span><span class="o">=</span><span class="mf">1e-4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">drt</span><span class="p">:</span> <span class="n">DRTResult</span> <span class="o">=</span> <span class="n">calculate_drt</span><span class="p">(</span><span class="n">EXAMPLE</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;tr-nnls&quot;</span><span class="p">,</span> <span class="n">lambda_value</span><span class="o">=</span><span class="mf">1e-4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">drt</span><span class="p">,</span> <span class="n">TRNNLSResult</span><span class="p">)</span>
</pre></div>
</div>
<p>Below are some figures demonstrating the results of the methods listed above when applied to the example data.</p>
<p>(<a class="reference download internal" download="" href="_downloads/80c7bcd5c0496fa990f11aa87e8ea844/guide_drt-1.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>)</p>
<figure class="align-default">
<img alt="_images/guide_drt-1_00.svg" class="plot-directive" src="_images/guide_drt-1_00.svg" /></figure>
<figure class="align-default">
<img alt="_images/guide_drt-1_01.svg" class="plot-directive" src="_images/guide_drt-1_01.svg" /></figure>
<figure class="align-default">
<img alt="_images/guide_drt-1_02.svg" class="plot-directive" src="_images/guide_drt-1_02.svg" /></figure>
<figure class="align-default">
<img alt="_images/guide_drt-1_03.svg" class="plot-directive" src="_images/guide_drt-1_03.svg" /></figure>
<p>References:</p>
<ul class="simple">
<li><p>Boukamp, B.A., 2015, Electrochim. Acta, 154, 35-46, (<a class="reference external" href="https://doi.org/10.1016/j.electacta.2014.12.059">https://doi.org/10.1016/j.electacta.2014.12.059</a>)</p></li>
<li><p>Boukamp, B.A. and Rolle, A, 2017, Solid State Ionics, 302, 12-18 (<a class="reference external" href="https://doi.org/10.1016/j.ssi.2016.10.009">https://doi.org/10.1016/j.ssi.2016.10.009</a>)</p></li>
<li><p>Ciucci, F. and Chen, C., 2015, Electrochim. Acta, 167, 439-454 (<a class="reference external" href="https://doi.org/10.1016/j.electacta.2015.03.123">https://doi.org/10.1016/j.electacta.2015.03.123</a>)</p></li>
<li><p>Effat, M. B. and Ciucci, F., 2017, Electrochim. Acta, 247, 1117-1129 (<a class="reference external" href="https://doi.org/10.1016/j.electacta.2017.07.050">https://doi.org/10.1016/j.electacta.2017.07.050</a>)</p></li>
<li><p>Kulikovsky, A., 2021, J. Electrochem. Soc., 168, 044512 (<a class="reference external" href="https://doi.org/10.1149/1945-7111/abf508">https://doi.org/10.1149/1945-7111/abf508</a>)</p></li>
<li><p>Liu, J., Wan, T. H., and Ciucci, F., 2020, Electrochim. Acta, 357, 136864 (<a class="reference external" href="https://doi.org/10.1016/j.electacta.2020.136864">https://doi.org/10.1016/j.electacta.2020.136864</a>)</p></li>
<li><p>Wan, T. H., Saccoccio, M., Chen, C., and Ciucci, F., 2015, Electrochim. Acta, 184, 483-499 (<a class="reference external" href="https://doi.org/10.1016/j.electacta.2015.09.097">https://doi.org/10.1016/j.electacta.2015.09.097</a>)</p></li>
</ul>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="guide_zhit.html" class="btn btn-neutral float-left" title="Z-HIT analysis" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="guide_circuit.html" class="btn btn-neutral float-right" title="Equivalent circuits" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, pyimpspec developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>